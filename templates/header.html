{% load static %}
<div class="header-top">
  <div class="container">
    <div class="header-contact">
      <a href="tel:+1234567890"><i class="fas fa-phone"></i> +1 (234) 567-890</a>
      <a href="mailto:info@repairservice.com"><i class="fas fa-envelope"></i> info@repairservice.com</a>
    </div>
    <div class="header-social">
      <a href="#"><i class="fab fa-vk"></i></a>
      <a href="https://t.me/Wwppkkll" target="_blank" rel="noopener noreferrer"><i class="fab fa-telegram"></i></a>
      <a href="#"><i class="fab fa-whatsapp"></i></a>
    </div>
  </div>
</div>
<div class="header-main">
  <div class="container">
    <a href="{% url 'main:landing' %}" class="logo"> 
      <img src="{% static "images/logo_2.png" %}" alt="МастерГранд" height="100">
    </a>
    <nav>
      <ul>
        {% if request.resolver_match.url_name == 'landing' %}
        <li><a href="#services"><i class="fas fa-tools"></i> Услуги</a></li>
        {% else %}
        <li class="services-dropdown">
          <a href="javascript:void(0)" onclick="toggleServicesDropdown(event)">
            <i class="fas fa-tools"></i> Услуги <i class="fas fa-chevron-down"></i>
          </a>
          <div class="services-dropdown-menu">
            {% for category in categories %}
              <a href="{{category.get_absolute_url}}">{{ category.name }}</a>
            {% empty %}
              <a href="{% url 'main:landing' %}#services">Нет категорий</a>
            {% endfor %}
          </div>
        </li>
        {% endif %}
        <li><a href="{% if request.resolver_match.url_name == 'landing' %}#about{% else %}{% url 'main:about_us' %}#about{% endif %}"><i class="fas fa-info-circle"></i> О нас</a></li>
        <li><a href="{% if request.resolver_match.url_name == 'landing' %}#reviews{% else %}{% url 'main:landing' %}#reviews{% endif %}"><i class="fas fa-star"></i> Отзывы</a></li>
        <li><a href="{% if request.resolver_match.url_name == 'landing' %}#contact{% else %}{% url 'main:landing' %}#contact{% endif %}"><i class="fas fa-phone-alt"></i> Контакты</a></li>        
        <li><a href="{% url 'main:job_application_create' %}"><i class="fas fa-briefcase"></i> Карьера</a></li>
        <li class="user-menu-item">
          {% if user.is_authenticated %}
            <div class="user-profile" onclick="toggleUserDropdown()">
              <i class="fas fa-user-circle"></i>
              <span>{{ user.get_short_name|default:user.email }}</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="user-dropdown" id="userDropdown">
              <a href="{% url 'users:profile' %}"><i class="fas fa-user-cog"></i> Профиль</a>
              <a href="{% url 'users:logout' %}"><i class="fas fa-sign-out-alt"></i> Выйти</a>
            </div>
          {% else %}
            <div class="user-profile" onclick="toggleUserDropdown()">
              <i class="fas fa-user-circle"></i>
              <span>Личный кабинет</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="user-dropdown" id="userDropdown">
              <a href="{% url 'users:login' %}"><i class="fas fa-sign-in-alt"></i> Войти</a>
              <a href="{% url 'users:register' %}"><i class="fas fa-user-plus"></i> Регистрация</a>
            </div>
          {% endif %}
        </li>      
      </ul>
    </nav>    
    <button class="btn btn-primary" data-bs-toggle='modal' data-bs-target='#orderModal'>Заказать звонок</button>
    <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
  </div>
</div>

<!-- TODO добавить поиск по услугам и изменить цвет выплывающего списка услуг и личного кабинета-->